# medii-jp での実績 (2025-02 〜 2026-01)

**医療従事者向けEコンサルプラットフォームの開発**

## Summary

| 期間 | PR数 | 追加行数 | 削除行数 |
|------|------|----------|----------|
| 2025-02 〜 2026-01 (12ヶ月) | **282件** | **258,918行** | **109,422行** |

主にフロントエンド開発を担当（209件）。AI機能「Medii Q」の機能拡張・UX改善、骨系統コンソーシアム向けグループチャット機能、開発基盤の近代化（Vitest移行、Storybook v9、orval導入）など、プロダクトの成長に直結する開発を推進。

---

## 主要プロジェクト

### 1. 🤖 Medii Q（AI医療相談アシスタント）

医師がAIに医療相談できる機能。質問に対してAIが回答し、専門医へのEコンサル（専門医相談）への転換を促進するプロダクトの中核機能。

#### 実装した機能

| 機能 | 時期 | 概要 | コード規模 |
|------|------|------|-----------|
| **AI検索履歴・新規作成** | 2025-06 | PC/SP両対応でAI検索履歴の閲覧・新規スレッド作成機能を実装 | +1,762/-265 |
| **引用表示（右カラム）** | 2025-06 | AIの回答で引用したガイドライン・論文をリスト表示 | +3,978/-1,042 |
| **個人情報マスキング** | 2025-06 | AIアシスタントに個人情報マスキング機能を追加（ISMS対応） | +数百行 |
| **Q→Eコンサル下書き生成** | 2025-08 | Qの右カラムにEコンサル作成コンポーネントを実装し、AIからコンサルへの転換を促進 | +2,463/-185 |
| **検索例文サジェスト** | 2025-08 | ユーザー属性に応じた検索例文を表示し、例文からQ検索できる機能 | +数百行 |
| **フォローアップ質問サジェスト** | 2025-10 | 質問後に深掘り・フォローアップ質問をサジェストする機能 | +数百行 |
| **お告げ＋下書き生成の改善** | 2025-10 | 表示ラグ解消・作成条件の変更 | +937/-356 |
| **質問からコンサル自動生成** | 2025-10 | 専門医に聞くべき質問を提案し、選択した質問からコンサルを自動生成 | +1,001/-32 |
| **ゲストユーザー向けQ** | 2025-09〜11 | 未登録ユーザー向けMedii Q体験版の実装（ゲストID発行、利用規約、流入制御） | +4,926/-745 |
| **NMOゲストユーザー対応** | 2025-11 | NMOからのゲストユーザー向け文言だし分け・暫定対応 | +955/-276 |
| **外部サイト埋め込み対応** | 2025-11 | iframe埋め込み用Medii Qメッセージボックス・参照元制限 | +数百行 |
| **Q初回改善施策** | 2025-12〜2026-01 | ヘッダー・メニュー変更、登録訴求、メリット説明追加、ABテスト | +3,954/-514 |
| **引用論文の権威性表示** | 2026-01 | 引用論文の権威性が視覚的にわかるように表示 | +2,028/-1,154 |
| **ガイドライン・論文表示改善** | 2026-01 | 表示方法の改善（Web_SP対応） | +927/-420 |
| **マークダウン出力改善** | 2025-12 | AI回答のマークダウン表示を改善 | +1,835/-103 |

#### 技術的なポイント
- ストリーミングレスポンスを活用したリアルタイムUI更新
- 個人情報マスキング機能によるセキュリティ・コンプライアンス対応
- ゲストユーザー向け機能の設計（認証不要でのAI体験提供）
- 外部サイト埋め込み時のセキュリティ（iframe参照元制限）

---

### 2. 🏥 骨系統コンソーシアム（グループチャット機能）

希少疾患（骨系統疾患）の専門医グループ向けにコンサルチャットを共有・議論できる機能。

#### 実装した機能

| 機能 | 時期 | 概要 | コード規模 |
|------|------|------|-----------|
| **グループチャット画面UI** | 2025-07 | チャットリスト・チャットエリアのUI実装 | +数百行 |
| **グループチャット画面API連携** | 2025-07 | チャットリスト・チャットエリアのAPI変更対応 | +数百行 |
| **管理者フラグ表示出しわけ** | 2025-08 | コンサルチャットを管理者フラグで表示出しわけ | +4,271/-3,518 |
| **質問文修正・グループ共有** | 2025-09 | 管理者がコンサルチャットから質問文を修正してグループに共有 | +788/-36 |
| **グループチャット遷移** | 2025-09 | 共有後は対象のグループチャットに自動遷移 | +数百行 |
| **画像タブ表示** | 2025-12 | グルチャ側の右タブを画像のみに変更 | +数十行 |

#### 技術的なポイント
- 既存のEコンサル機能をグループ向けに拡張
- 管理者権限による表示制御
- OpenAPIスキーマの分割管理（e-consult-api-docs）

---

### 3. 🛠️ 開発基盤の近代化（DX改善）

開発効率・品質向上のための基盤整備を主導。

#### 実装した機能

| 機能 | 時期 | 概要 | コード規模 |
|------|------|------|-----------|
| **Vitest移行** | 2025-03 | JestからVitestへのテストフレームワーク移行 | +6,171/-3,649 |
| **styled-components削除** | 2025-03 | レガシーなスタイリングライブラリを削除 | +数百行 |
| **Storybook v9 + Vite導入** | 2025-07 | Storybookのメジャーアップグレード・Vite移行 | +1,564/-1,348 |
| **orval導入** | 2025-05 | OpenAPIからAPIリクエスト関数を自動生成 | +21,136/-517 |
| **OpenAPIサブモジュール化** | 2025-07 | openapiの参照先をサブモジュール化 | +数百行 |
| **OpenAPIスキーマ分割** | 2025-11 | e-consult-api-docsにてスキーマを分割管理 | +21,368/-8,250 |
| **CI改善** | 2025-07〜2026-01 | lint追加、format自動化、husky削除、カバレッジレポート | +数百行 |
| **dependabot導入** | 2025-07 | ライブラリ更新通知・Auto Request Review設定 | +数十行 |
| **eslint-plugin-better-tailwindcss** | 2025-10 | 未定義classNameの検出・修正 | +数百行 |
| **Node.jsセキュリティアップデート** | 2026-01 | v22.22.0へのアップデート | +数行 |

#### 技術的なポイント
- OpenAPI駆動開発（orval）による型安全なAPI呼び出し
- Viteによるビルド高速化
- CI/CDパイプラインの自動化・効率化

---

### 4. 📊 Eコンサル・トスアップ機能

Eコンサル（専門医相談）の作成フローや、トスアップ（製薬企業連携）アンケート機能。

#### 実装した機能

| 機能 | 時期 | 概要 | コード規模 |
|------|------|------|-----------|
| **ファイル複数枚一括アップロード** | 2025-04 | コンサル作成画面でのファイルアップロード改善 | +856/-181 |
| **画像以外のファイル対応** | 2025-04 | PDF等のファイルもアップロード可能に | +数百行 |
| **トスアップアンケート疾患出し分け** | 2025-05 | コンサル直後アンケートを疾患ごとに出し分け | +1,257/-223 |
| **トスアップアンケート病院情報更新** | 2025-09 | アンケート回答後に所属病院情報を更新可能に | +1,015/-38 |
| **Eコンサル直後アンケート項目追加** | 2025-09 | 意識変容データ取得のための項目追加 | +数百行 |
| **主治医情報開示機能** | 2025-04 | 主治医が自分の情報を回答医に任意で開示 | +数百行 |
| **Eコンサル投稿フロー所属先更新** | 2026-01 | 主治医の所属先更新機能 | +数百行 |

---

### 5. 🎓 セミナー・KOL・グループ機能

セミナー管理、KOL（Key Opinion Leader）一覧、医師グループの外部公開機能。

#### 実装した機能

| 機能 | 時期 | 概要 | コード規模 |
|------|------|------|-----------|
| **KOL一覧外部公開** | 2025-04 | KOL一覧を外部公開できるように | +数百行 |
| **KOL一覧UI改善** | 2025-03〜05 | 表示調整・経歴文多い場合のUI改善 | +数百行 |
| **セミナー外部公開** | 2025-05 | セミナー・セミナーアーカイブを外部公開 | +数百行 |
| **外部セミナー表示** | 2025-12 | セミナー一覧で外部セミナーも表示 | +数百行 |
| **医師グループ外部公開** | 2025-05 | 医師グループを外部公開可能に | +数百行 |
| **グループ詳細画面改善** | 2025-03 | グループ詳細画面のUI/UX改善 | +数百行 |
| **グループ専門外申請** | 2025-03 | グループでも専門外申請できるように | +数百行 |

---

## 技術スタック

| カテゴリ | 技術 |
|----------|------|
| **Frontend** | Next.js (v13.5+), React, TypeScript, Tailwind CSS |
| **Testing** | Vitest, Storybook v9 |
| **Build** | Vite |
| **API** | orval (OpenAPI), REST API |
| **CI/CD** | GitHub Actions, CodeBuild, dependabot |
| **Monitoring** | DataDog |
| **Analytics** | UserGuiding, HubSpot |

---

## 月別アクティビティ

| 月 | PR数 | 追加行数 | 主なトピック |
|----|------|----------|--------------|
| 2025-02 | 18 | +4,448 | Node.jsアップデート、ページング修正、パスワード登録改善 |
| 2025-03 | 14 | +10,836 | Vitest移行、styled-components削除、グループ機能改善 |
| 2025-04 | 8 | +3,120 | コンサルファイルアップロード改善、KOL/セミナー外部公開 |
| 2025-05 | 21 | +52,412 | orval導入、トスアップアンケート、cursor rules整備 |
| 2025-06 | 37 | +23,692 | Medii Q引用表示、AI検索履歴、個人情報マスキング |
| 2025-07 | 36 | +29,627 | Storybook v9、骨系統グループチャット、dependabot |
| 2025-08 | 25 | +38,905 | Q→Eコンサル転換、骨系統管理者機能、検索例文 |
| 2025-09 | 29 | +24,834 | ゲストQ実装、骨系統共有機能、トスアップアンケート |
| 2025-10 | 31 | +18,056 | Q→E自動生成、フォローアップサジェスト、husky削除 |
| 2025-11 | 24 | +34,880 | ゲストQ拡張、外部サイト埋め込み、スキーマ分割 |
| 2025-12 | 21 | +10,638 | Q初回改善施策、マークダウン改善、骨系統画像タブ |
| 2026-01 | 18 | +7,470 | 引用論文権威性表示、ガイドライン表示改善、Node.js更新 |

---

## 代表的なPR（規模順）

1. **orvalでAPIリクエスト関数を自動生成** (+21,136/-517) - OpenAPI駆動開発の導入
2. **OpenAPIスキーマ分割** (+21,368/-8,250) - e-consult-api-docsでの管理
3. **Vitest移行** (+6,171/-3,649) - テストフレームワークの近代化
4. **骨系統1-3.管理者フラグ表示** (+4,271/-3,518) - コンソーシアム機能
5. **ゲスト向けQ設計** (+2,983/-184) - ゲストユーザー向けページコンポーネント分割
6. **Q→Eコンサル作成コンポーネント** (+2,463/-185) - AI→専門医相談転換
7. **アイコンのsvgライブラリ化** (+2,207/-612) - アセット管理の改善
8. **引用論文の権威性表示** (+2,028/-1,154) - AI回答の信頼性向上
9. **マークダウン出力改善** (+1,835/-103) - AI回答のUI改善
10. **Storybook v9 + Vite** (+1,564/-1,348) - 開発基盤の近代化

---

## まとめ

medii-jpでの1年間で、AI医療相談機能「Medii Q」の主要機能開発から、骨系統コンソーシアム向けのグループチャット機能、開発基盤の近代化まで幅広く担当しました。特に**Medii Q**については、機能開発だけでなくゲストユーザー対応、外部サイト埋め込み、Q初回改善施策など、プロダクト成長に直結する開発を推進。また、**orval導入**や**Vitest移行**などの開発基盤整備により、チーム全体の開発効率向上に貢献しました。
